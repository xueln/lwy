(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Details"],{"460e":function(t,e,s){},"900b":function(t,e,s){"use strict";var i=s("460e"),a=s.n(i);a.a},"9f52":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("my-header"),s("div",{attrs:{id:"page_detail"}},[s("bread",{attrs:{breadName:["BeeFo小唱机"]}}),s("div",{staticClass:"goods_info"},[s("div",{staticClass:"center w1200 d-flex"},[s("div",{staticClass:"images d-flex"},[s("ul",{staticClass:"d-flex",on:{mouseover:t.changeImg}},t._l(t.pics,function(e,i){return s("li",{key:i},[s("img",{class:t.i==i?"borderRed":"",attrs:{src:t.imgUrl+e.sm,alt:"","data-i":i}})])}),0),s("div",{staticClass:"mdImg relative"},[s("img",{attrs:{src:t.imgUrl+t.pics[t.i].md,alt:""}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.enter,expression:"enter"}],staticClass:"smMask"}),s("div",{staticClass:"Mask",on:{mouseover:function(e){t.enter=!t.enter},mouseout:function(e){t.enter=!t.enter}}})])]),s("div",{staticClass:"goods_attr"},[s("h2",{domProps:{textContent:t._s(t.product.title)}}),s("h3",{staticClass:"subtitle",domProps:{textContent:t._s(t.product.subtitle)}}),s("div",{staticClass:"good_price d-flex"},[s("span",[t._v(t._s(t.product.price.toFixed(2))+"元")]),s("span",{staticClass:"color666",domProps:{textContent:t._s(t.pics[t.i].is_spot?"有现货":"暂时缺货")}})]),s("div",{staticClass:"specs"},[s("div",[s("span",{staticClass:"block color666"},[t._v("选择规格:")]),t._l(t.specs,function(e,i){return s("router-link",{key:i,staticClass:"block option",class:e.pid==t.pid?"optionSelected":"",attrs:{to:/Details/+e.pid},domProps:{textContent:t._s(e.spec)},nativeOn:{click:function(e){return t.specClick(i)}}})})],2),s("div",{staticClass:"colors",on:{click:t.changeColor}},[t._m(0),t._l(t.pics,function(e,i){return s("router-link",{key:i,staticClass:"block option",class:t.colorIndex==i?"colorSelected":"",attrs:{to:"","data-ci":i},domProps:{textContent:t._s(e.color)}})})],2)]),s("div",{staticClass:"buy"},[s("router-link",{attrs:{to:""},nativeOn:{click:function(e){return t.goCart(e)}}},[t._v("立即购买")]),s("a",{staticClass:"sc",attrs:{href:"javascript:;"},on:{click:t.bgImgHandle}},[s("i",{class:t.bgImg})])],1)])])]),s("div",{staticClass:"details_nav",class:t.scrollTop>t.navOffsetTop&&0!=t.navOffsetTop?"fixed":"",attrs:{id:"detailNav"}},[s("div",{staticClass:"w1200"},[s("ul",{staticClass:"w1200 d-flex",on:{click:t.toOwn}},[s("li",[s("a",{class:0==t.detailNavIndex?"active":"",attrs:{href:"javascript:;","data-id":"detailContent","data-i":"0"}},[t._v("礼物详情")])]),s("li",[s("a",{class:1==t.detailNavIndex?"active":"",attrs:{"data-id":"detail_params",href:"javascript:;","data-i":"1"}},[t._v("规格参数")])]),s("li",[s("a",{class:2==t.detailNavIndex?"active":"",attrs:{href:"javascript:;","data-i":"2"}},[t._v("视频晒单(5)")])]),s("li",[s("a",{class:3==t.detailNavIndex?"active":"",attrs:{href:"javascript:;","data-i":"3"}},[t._v("咨询(5)")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.scrollTop>t.navOffsetTop||0==t.navOffsetTop,expression:"scrollTop>navOffsetTop|| navOffsetTop==0"}],staticClass:"service"},[s("span",[t._v("需要帮助？")]),s("router-link",{attrs:{to:""}},[t._v("QQ在线交谈")])],1)])]),s("div",{staticClass:"bg_f5f5f5",staticStyle:{height:"20px"}}),s("div",{staticClass:"bg_f5f5f5",attrs:{id:"detailContent"}},[s("div",{staticClass:" w1200 bg_fff"},t._l(t.detailsImages,function(t,e){return s("img",{key:e,attrs:{src:t,alt:""}})}),0),s("div",{attrs:{id:"detail_params"}},[t._v("规格参数")]),s("div",{staticClass:"detailP_details w1200"}),s("div",{attrs:{id:"detailParams"}}),s("div",{attrs:{id:"detailComment"}}),s("div",{attrs:{id:"detailRequest"}}),s("div",{attrs:{id:"guess_title"}},[t._v("猜你喜欢")]),s("div",{staticClass:"guessULike w1200"},[s("ul",{class:t.guessClass,style:{"margin-left":-243*t.times+"px",width:228*t.guessList.length+15*(t.guessList.length-1)+"px"}},t._l(t.guessList,function(e,i){return s("li",{key:i},[s("img",{attrs:{src:t.imgUrl+t.guessList[i],alt:""}}),s("p",[t._v("魔法小唱机")]),s("p",[t._v("¥399.0")])])}),0),s("ul",{class:t.guessClass,style:{width:228*t.guessList.length+15*(t.guessList.length-1)+"px"}},t._l(t.guessList,function(e,i){return s("li",{key:i},[s("img",{attrs:{src:t.imgUrl+t.guessList[i],alt:""}}),s("p",[t._v("魔法小唱机")]),s("p",[t._v("¥399.0")])])}),0)]),s("div",{staticClass:"directors",on:{mouseover:t.scrollDire,mouseout:t.startScroll}},t._l(t.guessList.length%5+1,function(e){return s("a",{key:e,class:e-1==t.times||e==t.guessList.length%5&&t.times>3?"borderRed":"",attrs:{href:"javacsript:;","data-i":e-1}})}),0)]),s("tool-bars",{on:{scroll:t.scroll}})],1),s("my-footer")],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"block color666"},[t._v("礼物颜色:")])])}],r=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),o=s("bd86"),l=s("2f62");function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(s,!0).forEach(function(e){Object(o["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var d={data:function(){return{enter:!1,bgImg:{bgImgClass:!1},product:{price:0},pics:[{md:"img/detail/md1.jpg",sm:"img/detail/sm1.jpg",lg:"img/detail/lg1.jpg"}],specs:[],imgUrl:"http://127.0.0.1:5050/",i:0,specIndex:0,colorIndex:-1,detailNavIndex:0,detailsImages:["http://127.0.0.1:5050/img/detail/1.jpg","http://127.0.0.1:5050/img/detail/2.jpg","http://127.0.0.1:5050/img/detail/3.jpg","http://127.0.0.1:5050/img/detail/4.jpg","http://127.0.0.1:5050/img/detail/5.jpg","http://127.0.0.1:5050/img/detail/5.jpg","http://127.0.0.1:5050/img/detail/6.jpg"],navOffsetTop:0,scrollTop:0,guessList:["img/detail/guessULike/1.jpg","img/detail/guessULike/2.jpg","img/detail/guessULike/3.jpg","img/detail/guessULike/5.jpg","img/detail/guessULike/2.jpg","img/detail/guessULike/3.jpg","img/detail/guessULike/5.jpg","img/detail/guessULike/2.jpg"],times:0,times2:0,guessClass:{transition:!0},timer:0}},props:{pid:{default:0}},created:function(){this.cartInit(),this.loadMore(),this.guessScroll()},mounted:function(){this.navOffsetTop=document.getElementById("detailNav").offsetTop},methods:c({},Object(l["b"])(["cartInit","addCart"]),{goCart:function(){var t=this;-1!=this.colorIndex?Object(r["a"])(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s={pid:t.product.pid,pic:t.pics[t.colorIndex].sm,title:t.product.title,spec:t.specs[t.specIndex].spec,price:t.product.price,is_spot:t.pics[t.colorIndex]["is_spot"],color:t.pics[t.colorIndex].color,count:1},console.log(s),e.next=4,t.addCart(s);case 4:console.log(t.getCount),t.$router.push("/Cart");case 6:case"end":return e.stop()}},e)}))():alert("请选择规格！！！")},startScroll:function(t){"A"==t.target.nodeName&&this.guessScroll()},scrollDire:function(t){if("A"==t.target.nodeName){var e=t.target.dataset.i;this.times=1*e,clearInterval(this.timer)}},guessScroll:function(){var t=this;this.timer=setInterval(function(){t.times+=1,t.guessClass.transition=!0,t.times,t.guessList.length,t.times>t.guessList.length&&(t.guessClass.transition=!1,t.times=0)},2e3)},toOwn:function(t){if("A"==t.target.nodeName){var e=t.target;this.detailNavIndex=t.target.dataset.i;var s=document.getElementById(e.dataset.id),i=this.scrollTop-s.offsetTop;0==e.dataset.i?i>0&&this.scrollToDetail(i):1==e.dataset.i&&(this.scrollTop>this.navOffsetTop?i+=66:i+=132,console.log(this.scrollTop+"elem.offsetTop:"+s.offsetTop+"  滚动的距离"+i),this.scrollToDetail(i))}},scrollToDetail:function(t){var e=50,s=t/e,i=setInterval(function(){window.scrollBy(0,-s),e--,0==e&&clearInterval(i)})},scroll:function(t){this.scrollTop=t,console.log("scrollTop"+this.scrollTop),this.scrollTop>=837&&this.scrollTop<9408?this.detailNavIndex=0:this.scrollTop>=9408&&this.scrollTop<9676?this.detailNavIndex=1:this.detailNavIndex=3},loadMore:function(){var t=this;Object(r["a"])(regeneratorRuntime.mark(function e(){var s,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("detail/getPro",{params:{pid:t.pid}});case 2:for(a in s=e.sent,i=s.data,i.product)t.$set(t.product,a,i.product[a]);t.pics=i.pics,t.specs=i.specs,console.log(t.pics);case 8:case"end":return e.stop()}},e)}))()},specClick:function(t){this.specIndex=t},changeColor:function(t){"A"==t.target.nodeName&&(this.colorIndex=t.target.dataset.ci,this.i=this.colorIndex)},changeImg:function(t){if("IMG"==t.target.nodeName){var e=t.target.dataset.i;this.i=e}},bgImgHandle:function(){var t=this;Object(r["a"])(regeneratorRuntime.mark(function e(){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("user/isLogin");case 2:s=e.sent,console.log(s.data),-1==s.data.code?alert("请先登录！登录后才能收藏"):t.bgImg.bgImgClass=!t.bgImg.bgImgClass;case 5:case"end":return e.stop()}},e)}))()}}),watch:{$route:function(){this.loadMore()}},computed:c({},Object(l["c"])(["getIsLogin","getCount","getCartList"]))},p=d,g=(s("900b"),s("2877")),u=Object(g["a"])(p,i,a,!1,null,"74287b52",null);e["default"]=u.exports}}]);
//# sourceMappingURL=Details.de5e4076.js.map