{"version":3,"sources":["webpack:///./src/views/Cart.vue?8c36","webpack:///./src/views/Cart.vue?89f6","webpack:///./src/components/cart/CartBtn.vue?7793","webpack:///src/components/cart/CartBtn.vue","webpack:///./src/components/cart/CartBtn.vue?65cf","webpack:///./src/components/cart/CartBtn.vue","webpack:///src/views/Cart.vue","webpack:///./src/views/Cart.vue?4777","webpack:///./src/views/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","expression","domProps","_s","getuserInfo","unum","getIsLogin","getCount","getIsAllCheck","on","allCheckChange","_l","item","index","key","pid","imgUrl","pic","title","color","_e","spec","_f","price","count","list","getCheckStatus","cid","$event","statusChange","getSelectCount","getSelectTotal","staticRenderFns","preventDefault","countChange","modifiers","pcount","target","component"],"mappings":"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","file":"js/Cart.330445bf.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart_page bg_f5f5f5\"},[_c('div',{staticClass:\"top_nav bg_fff\"},[_c('div',{staticClass:\"center w1200  d-flex\"},[_c('div',{staticClass:\"title\"},[_c('router-link',{staticClass:\"block\",attrs:{\"to\":\"/\",\"id\":\"logo_icon\"}}),_c('span',[_vm._v(\"我的购物车\")])],1),_c('ul',{staticClass:\"d-flex\"},[_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getIsLogin),expression:\"getIsLogin\"}]},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.getuserInfo.unum)}})]),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getIsLogin),expression:\"getIsLogin\"}]},[_c('router-link',{staticClass:\"changeRed\",attrs:{\"to\":\"\"}},[_vm._v(\"个人中心\")])],1),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getIsLogin),expression:\"getIsLogin\"}]},[_c('router-link',{staticClass:\"changeRed\",attrs:{\"to\":\"\"}},[_vm._v(\"我的订单\")])],1),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.getIsLogin),expression:\"!getIsLogin\"}]},[_c('router-link',{staticClass:\"changeRed\",attrs:{\"to\":\"/Login\"}},[_vm._v(\"登录\")]),_vm._v(\" /\\n                    \"),_c('router-link',{staticClass:\"changeRed\",attrs:{\"to\":\"/Register\"}},[_vm._v(\"注册\")])],1),_c('li',[_c('router-link',{staticClass:\"changeRed\",attrs:{\"to\":\"\"}},[_vm._v(\"浏览历史\")])],1),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getIsLogin),expression:\"getIsLogin\"}]},[_c('router-link',{staticClass:\"changeRed\",attrs:{\"to\":\"\"}},[_vm._v(\"退出登录\")])],1)])])]),_c('bread',{attrs:{\"breadName\":['购物车']}}),(_vm.getCount==0)?_c('div',{staticClass:\"cartEmpty w1200 bg_fff\"},[_c('p',[_vm._v(\"购物车中没有礼物\")]),_c('p',[_c('router-link',{staticClass:\"changeRed\",attrs:{\"to\":\"/Products\"}},[_vm._v(\"继续购物\")])],1)]):_c('div',{staticClass:\"cartList w1200 bg_fff\"},[_c('ul',{staticClass:\"d-flex\"},[_c('li',[_vm._v(\"商品信息\")]),_c('li',[_vm._v(\"单价\")]),_c('li',[_vm._v(\"数量\")]),_c('li',[_vm._v(\"库存\")]),_c('li',[_vm._v(\"小计\")]),_c('li',[_vm._v(\"\\n                全选\"),_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":this.getIsAllCheck},on:{\"change\":_vm.allCheckChange}})])]),_c('ul',{staticClass:\"detail\"},_vm._l((_vm.list),function(item,index){return _c('li',{key:index,staticClass:\"d-flex\"},[_c('div',{staticClass:\"d-flex\"},[_c('router-link',{attrs:{\"to\":'/Details/'+item.pid}},[_c('img',{attrs:{\"src\":_vm.imgUrl+item.pic,\"alt\":\"\"}})]),_c('p',[_c('router-link',{attrs:{\"to\":\"\"},domProps:{\"textContent\":_vm._s(item.title)}}),(item.color)?_c('span',{staticClass:\"block2 color666 font12\"},[_vm._v(_vm._s('礼物款式:'+item.color))]):_vm._e(),_c('span',{staticClass:\"block2 color666 font12\"},[_vm._v(\"礼物款式:\"+_vm._s(item.spec))])],1)],1),_c('div',[_vm._v(\"¥\"+_vm._s(_vm._f(\"priceFilter\")(item.price)))]),_c('div',[_c('cart-btn',{attrs:{\"count\":item.count,\"i\":index,\"list\":_vm.list}})],1),_c('div',{domProps:{\"textContent\":_vm._s(item['is_spot']?'有库存':'无库存')}}),_c('div',[_vm._v(\"¥\"+_vm._s(_vm._f(\"priceFilter\")(item.price*item.count)))]),_c('div',[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.getCheckStatus[item.cid]},on:{\"change\":function($event){return _vm.statusChange(item.cid)}}})])])}),0),_c('div',{staticClass:\"cart_total d-flex\"},[_c('router-link',{staticClass:\"changeRed\",attrs:{\"to\":\"\"}},[_c('i'),_vm._v(\"\\n                继续购物\\n            \")]),_c('div',{staticClass:\"right d-flex\"},[_c('span',{staticClass:\"font16\",domProps:{\"textContent\":_vm._s((\"共\" + _vm.getSelectCount + \"件商品\"))}}),_c('span',{staticClass:\"font16\"},[_vm._v(\"合计：\\n                    \"),_c('b',[_vm._v(\"¥ \"+_vm._s(_vm._f(\"priceFilter\")(_vm.getSelectTotal)))])]),_c('router-link',{staticClass:\"changeRed font16\",attrs:{\"to\":\"\"}},[_vm._v(\"去结算\")])],1)],1)]),_c('my-footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.preventDefault();return _vm.countChange($event,-1)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.pcount),expression:\"pcount\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.pcount)},on:{\"change\":function($event){_vm.pcount=$event.target.value}}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){$event.preventDefault();return _vm.countChange($event,1)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <a href=\"javascript:;\" @click.prevent=\"countChange($event,-1)\"></a>\r\n        <input type=\"text\" v-model.lazy=\"pcount\">\r\n        <a href=\"javascript:;\" @click.prevent=\"countChange($event,1)\"></a>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nexport default {\r\n    data(){\r\n        return{\r\n            pcount:this.count,\r\n            mycount:this.count\r\n        }\r\n    },\r\n    created(){\r\n        // this.pcount=this.count;\r\n    },\r\n    methods:{\r\n         ...mapActions([\"changeCart\",\"del\"]),\r\n         countChange(e,val){\r\n            this.mycount+=val;\r\n            console.log(this.pcount);\r\n        },\r\n        \r\n    },\r\n    watch:{\r\n        mycount(){\r\n            var i=parseInt(this.i);\r\n            if(this.mycount<=0){\r\n                // 应该执行删除操作\r\n                console.log(\"应该执行删除操作\");\r\n                this.del({cid:this.list[i].cid,i});\r\n            }else{\r\n               if(this.mycount>=40){\r\n                    this.mycount=40;\r\n                } \r\n            // 将修改更新到vuex中\r\n            this.changeCart({cid:this.list[i].cid,count:this.mycount,i});\r\n            }\r\n        },\r\n        count(){\r\n            this.pcount=this.count;\r\n        },\r\n        pcount(newv,oldv){\r\n            if(isNaN(parseInt(newv))){\r\n                alert(\"请输入数字\");\r\n                 this.pcount=oldv;\r\n            }\r\n            this.mycount=this.pcount;\r\n        }\r\n\r\n    },\r\n    props:[\"list\",\"i\",\"count\"]\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartBtn.vue?vue&type=template&id=28857eb0&\"\nimport script from \"./CartBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./CartBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"cart_page bg_f5f5f5\">\r\n        <!-- 顶部导航栏 -->\r\n        <div class=\"top_nav bg_fff\">\r\n            <div class=\"center w1200  d-flex\">\r\n                <div class=\"title\">\r\n                    <router-link to=\"/\" class=\"block\" id=\"logo_icon\"></router-link>\r\n                    <span>我的购物车</span>\r\n                </div>\r\n                <ul class=\"d-flex\">\r\n                    <li v-show=\"getIsLogin\">\r\n                        <span v-text=\"getuserInfo.unum\"></span>     \r\n                    </li>\r\n                    <li v-show=\"getIsLogin\">\r\n                        <router-link to=\"\" class=\"changeRed\">个人中心</router-link>\r\n                    </li>\r\n                    <li v-show=\"getIsLogin\">\r\n                        <router-link to=\"\" class=\"changeRed\">我的订单</router-link>\r\n                    </li>\r\n                    <li v-show=\"!getIsLogin\">\r\n                        <router-link to=\"/Login\" class=\"changeRed\">登录</router-link> /\r\n                        <router-link to=\"/Register\" class=\"changeRed\">注册</router-link>\r\n                    </li>\r\n                    <li>\r\n                        <router-link to=\"\" class=\"changeRed\">浏览历史</router-link>\r\n                    </li>    \r\n                    <li v-show=\"getIsLogin\">\r\n                        <router-link to=\"\" class=\"changeRed\">退出登录</router-link>\r\n                    </li>    \r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <!-- 面包屑 -->\r\n        <bread :breadName=\"['购物车']\"></bread>\r\n        <!-- 购物车中没有商品时显示 -->\r\n        <div v-if=\"getCount==0\" class=\"cartEmpty w1200 bg_fff\">\r\n            <p>购物车中没有礼物</p>\r\n            <p>\r\n                <router-link class=\"changeRed\" to=\"/Products\">继续购物</router-link>\r\n            </p>\r\n        </div>\r\n        <!-- 有商品时的显示 -->\r\n        <div v-else class=\"cartList w1200 bg_fff\">\r\n            <ul class=\"d-flex\">\r\n                <li>商品信息</li>\r\n                <li>单价</li>\r\n                <li>数量</li>\r\n                <li>库存</li>\r\n                <li>小计</li>\r\n                <li>\r\n                    全选<input type=\"checkbox\" :checked=\"this.getIsAllCheck\" @change=\"allCheckChange\">\r\n                </li>\r\n            </ul>\r\n            <ul class=\"detail\">\r\n                <li v-for=\"(item,index) of list\" :key=\"index\" class=\"d-flex\">\r\n                    <div class=\"d-flex\">\r\n                        <router-link :to=\"'/Details/'+item.pid\">\r\n                            <img :src=\"imgUrl+item.pic\" alt=\"\">\r\n                        </router-link>\r\n                        <p>\r\n                            <router-link to=\"\" v-text=\"item.title\"></router-link>\r\n                            <span class=\"block2 color666 font12\" v-if=\"item.color\">{{'礼物款式:'+item.color}}</span>\r\n                            <span class=\"block2 color666 font12\">礼物款式:{{item.spec}}</span>\r\n                        </p>\r\n                    </div>\r\n                    <div>¥{{item.price | priceFilter}}</div>\r\n                    <div>\r\n                        \r\n                        <cart-btn :count=\"item.count\" :i=\"index\" :list=\"list\"></cart-btn>\r\n                        <!-- <a href=\"javascript:;\" @click.prevent=\"countChange($event,-1)\" :data-i=\"index\"></a>\r\n                        <input type=\"text\" v-model=\"item.count\">\r\n                        <a href=\"javascript:;\" @click.prevent=\"countChange($event,1)\" :data-i=\"index\"></a> -->\r\n                        \r\n                    </div>\r\n                    <div v-text=\"item['is_spot']?'有库存':'无库存'\"></div>\r\n                    <div>¥{{item.price*item.count | priceFilter}}</div>\r\n                    <div>\r\n                        <!-- <a href=\"javascript:;\" data-i=\"index\" id=\"del\"></a> -->\r\n                        <input type=\"checkbox\" :checked=\"getCheckStatus[item.cid]\" @change=\"statusChange(item.cid)\">\r\n                    </div> \r\n                </li>\r\n            </ul>\r\n            <!-- 结算 -->\r\n            <div class=\"cart_total d-flex\">\r\n                <router-link to=\"\" class=\"changeRed\">\r\n                    <i></i>\r\n                    继续购物\r\n                </router-link>\r\n                <div class=\"right d-flex\">\r\n                    <span class=\"font16\" v-text=\"`共${getSelectCount}件商品`\"></span>\r\n                    <span class=\"font16\">合计：\r\n                        <b>¥ {{getSelectTotal | priceFilter}}</b>\r\n                    </span>\r\n                    <router-link to=\"\" class=\"changeRed font16\">去结算</router-link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <my-footer></my-footer>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {mapGetters,mapActions, mapMutations} from 'vuex';\r\nimport CartBtn from '../components/cart/CartBtn.vue'\r\nexport default {\r\n    data(){\r\n        return {\r\n            list:[],\r\n            imgUrl:'http://127.0.0.1:5050/',\r\n            // 商品勾选值\r\n            checkedList:[],\r\n            allCheck:true\r\n        }\r\n    },\r\n    methods:{\r\n        ...mapActions([\"cartInit\",\"addCart\",\"changeCart\",\"del\",\"checkedInit\"]),\r\n        ...mapMutations([\"setAllCheck\",\"changeStatus\"]),\r\n        // 购物车数量单击按钮事件\r\n        countChange(e,val){\r\n            var i=parseInt(e.target.dataset.i);\r\n            var count=this.list[i].count;\r\n            count+=val;\r\n            console.log(count);\r\n            if(count<=0){\r\n                // 应该执行删除操作\r\n                console.log(\"应该执行删除操作\");\r\n                this.del({cid:this.list[i].cid,i:i});\r\n                \r\n            }else{\r\n               if(count>=40){\r\n                    count=40;\r\n                } \r\n            // 将修改更新到vuex中\r\n            this.changeCart({cid:this.list[i].cid,count});\r\n            }\r\n\r\n        },\r\n        allCheckChange(){\r\n            this.setAllCheck(!this.getIsAllCheck);\r\n        },\r\n        statusChange(cid){\r\n            this.changeStatus(cid);\r\n            console.log(this.getIsAllCheck);\r\n            // this.allCheck=this.getIsAllCheck;\r\n            // console.log(this.getCheckStatus);\r\n        },\r\n        loadMore(){\r\n            // 从vuex中拿到购物车数据\r\n            this.list=this.getCartList;\r\n            // console.log(this.list[0].color);\r\n        },\r\n        \r\n    },\r\n    created(){\r\n        // 初始化cart的state\r\n        (async ()=>{\r\n            await this.cartInit();\r\n            this.checkedInit();\r\n            // console.log(this.getIsAllCheck);\r\n            // console.log(this.getIsLogin);\r\n            // 用户是否登录？登录状态查询当前浏览器中cartProducts是否有信息？\r\n            // 浏览器端有存储信息 将存储信息中的\r\n            this.loadMore();\r\n        })();\r\n        \r\n    },\r\n    computed:{\r\n        ...mapGetters([\"getIsLogin\",\"getuserInfo\",\"getCartList\",\"getCount\",\"getCheckStatus\",\"getIsAllCheck\",\"getSelectCount\",\"getSelectTotal\"]),\r\n        total(){\r\n            return this.list.reduce((prev,value)=>{\r\n                prev+=value.price*value.count;\r\n                return prev;\r\n            },0);\r\n        }\r\n    },\r\n    wacth:{\r\n        // \r\n    },\r\n    components:{'cart-btn':CartBtn}\r\n}\r\n</script>\r\n<style>\r\n    @import url(../assets/css/cart.css);\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=7d3117e6&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}