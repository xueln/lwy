{"remainingRequest":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\store\\userLogin.js","dependencies":[{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\store\\userLogin.js","mtime":1591160493652},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591153665092},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1591153673119},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1591153664766}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\WEB\\\\lx\\\\vue\\\\project\\\\lwy\\\\lwy_vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nexport default {\n  state: {\n    islogin: JSON.parse(sessionStorage.getItem(\"islogin\")) || false,\n    userInfo: JSON.parse(sessionStorage.getItem(\"userInfo\")) || {}\n  },\n  getters: {\n    getIsLogin: function getIsLogin(state) {\n      return state.islogin;\n    },\n    getuserInfo: function getuserInfo(state) {\n      return state.userInfo;\n    }\n  },\n  mutations: {\n    setIsLogin: function setIsLogin(state, b) {\n      state.islogin = b;\n      sessionStorage.setItem(\"islogin\", JSON.stringify(b));\n    },\n    setuserInfo: function setuserInfo(state, info) {\n      state.userInfo = info;\n      sessionStorage.setItem(\"userInfo\", JSON.stringify(info));\n    },\n    logout: function logout(state) {\n      sessionStorage.removeItem(\"islogin\");\n      sessionStorage.removeItem(\"userInfo\");\n      state.islogin = false;\n      state.userInfo = {};\n    }\n  },\n  actions: {\n    userLogin: function () {\n      var _userLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(context, user) {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.post('user/getUser', user);\n\n              case 2:\n                res = _context.sent;\n                console.log(res.data);\n\n                if (!(res.data.code == 1)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                context.commit(\"setIsLogin\", true);\n                context.commit(\"setuserInfo\", res.data.data[0]);\n                return _context.abrupt(\"return\", true);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function userLogin(_x, _x2) {\n        return _userLogin.apply(this, arguments);\n      }\n\n      return userLogin;\n    }(),\n    userLogout: function () {\n      var _userLogout = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(context) {\n        var res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(\"/user/logout\");\n\n              case 2:\n                res = _context2.sent;\n                console.log(res.data);\n                context.commit(\"logout\");\n                console.log('logout');\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function userLogout(_x3) {\n        return _userLogout.apply(this, arguments);\n      }\n\n      return userLogout;\n    }()\n  }\n};",{"version":3,"sources":["D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\store\\userLogin.js"],"names":["axios","state","islogin","JSON","parse","sessionStorage","getItem","userInfo","getters","getIsLogin","getuserInfo","mutations","setIsLogin","b","setItem","stringify","setuserInfo","info","logout","removeItem","actions","userLogin","context","user","post","res","console","log","data","code","commit","userLogout","get"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAc;AACVC,EAAAA,KAAK,EAAC;AACFC,IAAAA,OAAO,EAACC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAX,KAAiD,KADvD;AAEFC,IAAAA,QAAQ,EAACJ,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAX,KAAkD;AAFzD,GADI;AAKVE,EAAAA,OAAO,EAAC;AACJC,IAAAA,UADI,sBACOR,KADP,EACa;AACb,aAAOA,KAAK,CAACC,OAAb;AACH,KAHG;AAIJQ,IAAAA,WAJI,uBAIQT,KAJR,EAIc;AACd,aAAOA,KAAK,CAACM,QAAb;AACH;AANG,GALE;AAaVI,EAAAA,SAAS,EAAC;AACNC,IAAAA,UADM,sBACKX,KADL,EACWY,CADX,EACa;AACfZ,MAAAA,KAAK,CAACC,OAAN,GAAcW,CAAd;AACAR,MAAAA,cAAc,CAACS,OAAf,CAAuB,SAAvB,EAAiCX,IAAI,CAACY,SAAL,CAAeF,CAAf,CAAjC;AACH,KAJK;AAKNG,IAAAA,WALM,uBAKMf,KALN,EAKYgB,IALZ,EAKiB;AACnBhB,MAAAA,KAAK,CAACM,QAAN,GAAeU,IAAf;AACAZ,MAAAA,cAAc,CAACS,OAAf,CAAuB,UAAvB,EAAkCX,IAAI,CAACY,SAAL,CAAeE,IAAf,CAAlC;AACH,KARK;AASNC,IAAAA,MATM,kBASCjB,KATD,EASO;AACTI,MAAAA,cAAc,CAACc,UAAf,CAA0B,SAA1B;AACAd,MAAAA,cAAc,CAACc,UAAf,CAA0B,UAA1B;AACAlB,MAAAA,KAAK,CAACC,OAAN,GAAc,KAAd;AACAD,MAAAA,KAAK,CAACM,QAAN,GAAe,EAAf;AACH;AAdK,GAbA;AA6BVa,EAAAA,OAAO,EAAC;AACEC,IAAAA,SADF;AAAA;AAAA;AAAA,+CACYC,OADZ,EACoBC,IADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEcvB,KAAK,CAACwB,IAAN,CAAW,cAAX,EAA0BD,IAA1B,CAFd;;AAAA;AAEIE,gBAAAA,GAFJ;AAGAC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;;AAHA,sBAIGH,GAAG,CAACG,IAAJ,CAASC,IAAT,IAAe,CAJlB;AAAA;AAAA;AAAA;;AAKIP,gBAAAA,OAAO,CAACQ,MAAR,CAAe,YAAf,EAA4B,IAA5B;AACAR,gBAAAA,OAAO,CAACQ,MAAR,CAAe,aAAf,EAA6BL,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,CAA7B;AANJ,iDAOW,IAPX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAUEG,IAAAA,UAVF;AAAA;AAAA;AAAA,gDAUaT,OAVb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAWatB,KAAK,CAACgC,GAAN,CAAU,cAAV,CAXb;;AAAA;AAWGP,gBAAAA,GAXH;AAYDC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAN,gBAAAA,OAAO,CAACQ,MAAR,CAAe,QAAf;AACAJ,gBAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;;AAdC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AA7BE,CAAd","sourcesContent":["import axios from 'axios';\r\nexport default{\r\n    state:{\r\n        islogin:JSON.parse(sessionStorage.getItem(\"islogin\")) || false,\r\n        userInfo:JSON.parse(sessionStorage.getItem(\"userInfo\")) || {}\r\n    },\r\n    getters:{\r\n        getIsLogin(state){\r\n            return state.islogin;\r\n        },\r\n        getuserInfo(state){\r\n            return state.userInfo;\r\n        }\r\n    },\r\n    mutations:{\r\n        setIsLogin(state,b){\r\n            state.islogin=b;\r\n            sessionStorage.setItem(\"islogin\",JSON.stringify(b));\r\n        },\r\n        setuserInfo(state,info){\r\n            state.userInfo=info;\r\n            sessionStorage.setItem(\"userInfo\",JSON.stringify(info));\r\n        } ,\r\n        logout(state){\r\n            sessionStorage.removeItem(\"islogin\");\r\n            sessionStorage.removeItem(\"userInfo\");\r\n            state.islogin=false;\r\n            state.userInfo={};\r\n        } \r\n    },\r\n    actions:{\r\n        async userLogin(context,user){\r\n            var res=await axios.post('user/getUser',user);\r\n            console.log(res.data);\r\n            if(res.data.code==1){\r\n                context.commit(\"setIsLogin\",true);\r\n                context.commit(\"setuserInfo\",res.data.data[0]);\r\n                return true;\r\n            }\r\n        },\r\n        async userLogout(context){\r\n           var res=await axios.get(\"/user/logout\");\r\n           console.log(res.data);\r\n           context.commit(\"logout\");\r\n           console.log('logout');\r\n        }\r\n    }\r\n}"]}]}