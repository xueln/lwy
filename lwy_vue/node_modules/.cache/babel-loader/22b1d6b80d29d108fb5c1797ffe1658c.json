{"remainingRequest":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\views\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\views\\Register.vue","mtime":1591153674473},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591153665092},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1591153673119},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1591153664766},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591153665092},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1591153673467}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\WEB\\\\lx\\\\vue\\\\project\\\\lwy\\\\lwy_vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport QS from 'qs';\nimport { async } from 'q';\nexport default {\n  data: function data() {\n    return {\n      phone: \"\",\n      pwd: \"\",\n      pwd2: \"\",\n      reg_phone: \"\",\n      reg_pwd: \"\",\n      reg_pwd2: \"\",\n      regAlready: false\n    };\n  },\n  methods: {\n    getPhone: function getPhone() {\n      var _this = this;\n\n      _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.axios.post('user/getUser', QS.stringify({\n                  iphone: _this.phone\n                }));\n\n              case 2:\n                res = _context.sent;\n                console.log(res.data);\n\n                if (res.data.code == -1) {\n                  _this.reg_phone = \"该手机号已被注册\";\n                  _this.regAlready = true;\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    blurPhoneHandle: function blurPhoneHandle() {\n      var reg1 = /^1[3-9]\\d{9}$/;\n      var isCorrect = reg1.test(this.phone); // console.log(this.phone,isCorrect);\n\n      if (!isCorrect) {\n        this.reg_phone = \"手机号格式不正确\";\n        return false;\n      } else {\n        // 验证用户手机号是否被使用\n        this.getPhone();\n\n        if (this.regAlready == false) {\n          this.reg_phone = \"\";\n          return true;\n        } else {\n          return false;\n        }\n      }\n    },\n    blurPwdHandle: function blurPwdHandle() {\n      var reg = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/;\n\n      if (!reg.test(this.pwd)) {\n        this.reg_pwd = \"请输入正确格式的密码(6~12位 数字+字母)\";\n        return false;\n      } else {\n        console.log(this.pwd);\n        this.reg_pwd = \"\";\n        return true;\n      }\n    },\n    blurPwd2Handle: function blurPwd2Handle() {\n      var pwd2 = this.pwd2.replace(/[a-z]/ig, function (kw) {\n        return kw.toUpperCase();\n      });\n      var pwd = this.pwd.replace(/[a-z]/ig, function (kw) {\n        return kw.toUpperCase();\n      });\n\n      if (pwd2 !== pwd) {\n        this.reg_pwd2 = \"两次输入密码不一致\";\n        return false;\n      } else {\n        this.reg_pwd2 = \"\";\n        return true;\n      }\n    },\n    // 立即注册单击事件\n    regNowHandle: function regNowHandle() {\n      var _this2 = this;\n\n      if (this.blurPhoneHandle() && this.blurPwdHandle() && this.blurPwd2Handle()) {\n        console.log(this.phone, this.pwd);\n\n        _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee2() {\n          var res, loginRes;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return _this2.axios.post(\"user/v1/reg\", QS.stringify({\n                    iphone: _this2.phone,\n                    upwd: _this2.pwd2\n                  }));\n\n                case 2:\n                  res = _context2.sent;\n                  console.log(res.data);\n\n                  if (!(res.data.code == 200)) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  alert(\"注册成功！欢迎您\" + _this2.phone); //   自动登录\n\n                  _context2.next = 8;\n                  return _this2.axios.post('user/getUser', _this2.QS.stringify({\n                    iphone: _this2.phone,\n                    upwd: _this2.pwd2\n                  }));\n\n                case 8:\n                  loginRes = _context2.sent;\n\n                  if (loginRes.data.code == 1) {\n                    _this2.$router.push('/Index');\n                  } else {\n                    alert('登录失败,请稍后再试');\n                  }\n\n                case 10:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }))();\n      }\n    }\n  },\n  created: function created() {}\n};",{"version":3,"sources":["Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <my-header></my-header>\r\n        <div class=\"reg_bg\">\r\n            <table></table>\r\n            <div class=\"service\">\r\n                <span>服务热线：0755-86380505 (8:00－24:00)</span>\r\n                <a href=\"javascript:;\">QQ在线交谈</a>\r\n            </div>\r\n            <div class=\"content\">\r\n                <h2>注册礼无忧账号</h2> \r\n                <input  @blur=\"blurPhoneHandle\" placeholder=\"请输入手机号\" v-model=\"phone\">\r\n                <div v-text=\"reg_phone\"></div>\r\n                <input @blur=\"blurPwdHandle\" type=\"password\" placeholder=\"请输入密码6-12位(字母+数字)\" v-model=\"pwd\">\r\n                <div v-text=\"reg_pwd\"></div>\r\n                <input @blur=\"blurPwd2Handle\" type=\"password\" placeholder=\"再次输入密码\" v-model=\"pwd2\">\r\n                <div v-text=\"reg_pwd2\"></div>\r\n                <p>\r\n                    注册即为同意\r\n                    <a href=\"javascript:;\">《礼无忧用户注册协议》</a>\r\n                </p>\r\n                <input @click=\"regNowHandle\" type=\"button\" value=\"立即注册\" id=\"reg\">\r\n\t\t    </div>\r\n\t    </div>\r\n        <my-footer></my-footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport QS from 'qs'\r\nimport { async } from 'q';\r\nexport default {\r\n    data(){\r\n        return{\r\n            phone:\"\",\r\n            pwd:\"\",\r\n            pwd2:\"\",\r\n            reg_phone:\"\",\r\n            reg_pwd:\"\",\r\n            reg_pwd2:\"\",\r\n            regAlready:false\r\n        }\r\n    },\r\n    methods:{\r\n        getPhone(){\r\n            (async ()=>{\r\n                var res=await this.axios.post('user/getUser',QS.stringify({\r\n                    iphone:this.phone\r\n                }));\r\n                console.log(res.data);\r\n                if(res.data.code==-1){\r\n                    this.reg_phone=\"该手机号已被注册\";\r\n                    this.regAlready=true;\r\n                }\r\n            })();\r\n\r\n        },\r\n        blurPhoneHandle(){\r\n            var reg1=/^1[3-9]\\d{9}$/;\r\n            var isCorrect=reg1.test(this.phone);\r\n            // console.log(this.phone,isCorrect);\r\n            if(!isCorrect){\r\n                this.reg_phone=\"手机号格式不正确\";\r\n                return false;\r\n            }else{\r\n                // 验证用户手机号是否被使用\r\n                this.getPhone();\r\n                if(this.regAlready==false){\r\n                   this.reg_phone=\"\";\r\n                   return true;\r\n                }else{\r\n                    return false;\r\n                }\r\n                \r\n            } \r\n        },\r\n        blurPwdHandle(){\r\n            var reg=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$/;\r\n            if(!reg.test(this.pwd)){\r\n                this.reg_pwd=\"请输入正确格式的密码(6~12位 数字+字母)\";\r\n                return false;\r\n            }else{\r\n                console.log(this.pwd);\r\n                this.reg_pwd=\"\";\r\n                return true;\r\n            } \r\n        },\r\n        blurPwd2Handle(){\r\n            var pwd2=this.pwd2.replace(/[a-z]/ig,(kw)=>{\r\n                return kw.toUpperCase();\r\n            });\r\n            var pwd=this.pwd.replace(/[a-z]/ig,(kw)=>{\r\n                return kw.toUpperCase();\r\n            });\r\n            if(pwd2!==pwd){\r\n                this.reg_pwd2=\"两次输入密码不一致\";\r\n                return false;\r\n            }else{\r\n                this.reg_pwd2=\"\";\r\n                return true;\r\n            }\r\n        },\r\n        // 立即注册单击事件\r\n        regNowHandle(){\r\n            if(this.blurPhoneHandle() && this.blurPwdHandle() &&  this.blurPwd2Handle()){\r\n                console.log(this.phone,this.pwd);\r\n                (async ()=>{\r\n                    var res=await this.axios.post(\"user/v1/reg\",\r\n                        QS.stringify({\r\n                            iphone:this.phone,\r\n                            upwd:this.pwd2\r\n                        })\r\n                    );\r\n                    console.log(res.data);\r\n                    if(res.data.code==200){\r\n                      alert(\"注册成功！欢迎您\"+this.phone); \r\n                    //   自动登录\r\n                    var loginRes=await this.axios.post('user/getUser',this.QS.stringify({\r\n                        iphone:this.phone,\r\n                        upwd:this.pwd2\r\n                    }));\r\n                    if(loginRes.data.code==1){\r\n                        this.$router.push('/Index');\r\n                    }else{\r\n                        alert('登录失败,请稍后再试');\r\n                    }\r\n                       \r\n                    }\r\n                })();\r\n            }\r\n\r\n        }\r\n    },\r\n    created(){\r\n\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    @import url(../assets/css/register.css);\r\n</style>\r\n\r\n"],"sourceRoot":"src/views"}]}