{"remainingRequest":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\assets\\js\\axios.js","dependencies":[{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\assets\\js\\axios.js","mtime":1591780417663},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591153665092},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1591153664766}],"contextDependencies":[],"result":["import axios from \"axios\";\nimport qs from \"qs\";\nimport store from \"./store\"; // 创建axios对象\n\nvar Axios = axios.create({\n  baseURL: \"http://127.0.0.1:5050/\",\n  withCredentials: true\n}); // 请求拦截器\n\nAxios.interceptors.request.use(function (config) {\n  console.log(\"进入请求拦截器...\"); //this.axios.post(\n  //\"user/signin\",\n  //{uname:dingding , upwd:123456}\n  //)\n\n  if (config.method === \"post\") {\n    config.data = qs.stringify(config.data);\n  } // if(localStorage.getItem(\"token\")){\n  //   config.headers.token=localStorage.getItem(\"token\");\n  // }\n  // if(sessionStorage.getItem(\"token\")){\n  //   config.headers.token=sessionStorage.getItem(\"token\");\n  // }\n\n\n  return config;\n}, function (error) {\n  console.log(\"===发送请求拦截器报错===\");\n  console.log(error);\n  console.log(\"===end===\");\n  Promise.reject(error);\n});\nAxios.interceptors.response.use(function (res) {\n  console.log(\"触发响应拦截器...\"); // if(res.data.status==403){\n  //   localStorage.removeItem(\"token\");\n  //   sessionStorage.removeItem(\"token\");\n  //   store.commit(\"setIslogin\",false);\n  //   store.commit(\"setUname\",\"\");\n  // }else if(res.data.code==-1){\n  //   store.commit(\"setIslogin\",false);\n  //   store.commit(\"setUname\",\"\");\n  //   //alert(res.data.msg+\" 请先登录 !\");\n  // }else if(res.data.token){\n  //   store.commit(\"setUname\",res.data.uname);\n  //   store.commit(\"setIslogin\",true);\n  //   if(res.remember===\"true\"){\n  //     localStorage.setItem(\"token\",res.data.token);\n  //   }else{\n  //     sessionStorage.setItem(\"token\",res.data.token);\n  //   }\n  // }\n  // return res;\n}, function (error) {});\nexport default {\n  install: function install(Vue, Option) {\n    Vue.prototype.axios = Axios;\n  }\n};",{"version":3,"sources":["D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\assets\\js\\axios.js"],"names":["axios","qs","store","Axios","create","baseURL","withCredentials","interceptors","request","use","config","console","log","method","data","stringify","error","Promise","reject","response","res","install","Vue","Option","prototype"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,KAAP,gB,CAEA;;AACA,IAAMC,KAAK,GAACH,KAAK,CAACI,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAC,wBADe;AAEvBC,EAAAA,eAAe,EAAC;AAFO,CAAb,CAAZ,C,CAIA;;AACAH,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,UAAAC,MAAM,EAAE;AACNC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EADM,CAEN;AACE;AACA;AACF;;AACA,MAAGF,MAAM,CAACG,MAAP,KAAgB,MAAnB,EAA0B;AACxBH,IAAAA,MAAM,CAACI,IAAP,GAAYb,EAAE,CAACc,SAAH,CAAaL,MAAM,CAACI,IAApB,CAAZ;AACD,GARK,CASN;AACA;AACA;AACA;AACA;AACA;;;AACA,SAAOJ,MAAP;AACD,CAjBH,EAkBE,UAAAM,KAAK,EAAE;AACLL,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAK,EAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf;AACD,CAvBH;AAyBAb,KAAK,CAACI,YAAN,CAAmBY,QAAnB,CAA4BV,GAA5B,CACE,UAAAW,GAAG,EAAE;AACHT,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EADG,CAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAtBH,EAuBE,UAAAI,KAAK,EAAE,CAEN,CAzBH;AA2BA,eAAe;AACbK,EAAAA,OAAO,EAAE,iBAASC,GAAT,EAAcC,MAAd,EAAqB;AAC5BD,IAAAA,GAAG,CAACE,SAAJ,CAAcxB,KAAd,GAAoBG,KAApB;AACD;AAHY,CAAf","sourcesContent":["import axios from \"axios\";\nimport qs from \"qs\";\nimport store from './store'\n\n// 创建axios对象\nconst Axios=axios.create({\n  baseURL:\"http://127.0.0.1:5050/\",\n  withCredentials:true\n})\n// 请求拦截器\nAxios.interceptors.request.use(\n  config=>{\n    console.log(\"进入请求拦截器...\");\n    //this.axios.post(\n      //\"user/signin\",\n      //{uname:dingding , upwd:123456}\n    //)\n    if(config.method===\"post\"){\n      config.data=qs.stringify(config.data)\n    }\n    // if(localStorage.getItem(\"token\")){\n    //   config.headers.token=localStorage.getItem(\"token\");\n    // }\n    // if(sessionStorage.getItem(\"token\")){\n    //   config.headers.token=sessionStorage.getItem(\"token\");\n    // }\n    return config;\n  },\n  error=>{\n    console.log(\"===发送请求拦截器报错===\")\n    console.log(error);\n    console.log(\"===end===\");\n    Promise.reject(error);\n  }\n);\nAxios.interceptors.response.use(\n  res=>{\n    console.log(\"触发响应拦截器...\")\n    // if(res.data.status==403){\n    //   localStorage.removeItem(\"token\");\n    //   sessionStorage.removeItem(\"token\");\n    //   store.commit(\"setIslogin\",false);\n    //   store.commit(\"setUname\",\"\");\n    // }else if(res.data.code==-1){\n    //   store.commit(\"setIslogin\",false);\n    //   store.commit(\"setUname\",\"\");\n    //   //alert(res.data.msg+\" 请先登录 !\");\n    // }else if(res.data.token){\n    //   store.commit(\"setUname\",res.data.uname);\n    //   store.commit(\"setIslogin\",true);\n    //   if(res.remember===\"true\"){\n    //     localStorage.setItem(\"token\",res.data.token);\n    //   }else{\n    //     sessionStorage.setItem(\"token\",res.data.token);\n    //   }\n    // }\n    // return res;\n  },\n  error=>{\n    \n  }\n)\nexport default {\n  install: function(Vue, Option){\n    Vue.prototype.axios=Axios;\n  }\n}"]}]}