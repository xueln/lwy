{"remainingRequest":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\components\\MyHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\components\\MyHeader.vue","mtime":1591957162790},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591153665092},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1591153664766},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591153665092},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1591153673467}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {mapGetters,mapActions} from 'vuex'\r\nexport default {\r\n    data(){\r\n        return {\r\n           kw:\" \",\r\n           cartList:[],\r\n        //    cartCount:0,\r\n           imgUrl:\"http://127.0.0.1:5050/\"\r\n        }\r\n    },\r\n    methods:{\r\n        ...mapActions([\"userLogout\",\"cartInit\",\"del\"]),\r\n        search(){\r\n            console.log(typeof this.kw);\r\n            this.$router.push(\"/Products/\"+this.kw);\r\n            // this.$emit(\"kwHandle\",this.kw);\r\n        },\r\n        logout(){\r\n            this.userLogout();\r\n            console.log(this.getIsLogin);\r\n        },\r\n        // 删除商品\r\n        delProduct(i){\r\n            console.log(\"删除商品\"+i);\r\n            this.del({cid:this.cartList[i].cid,i});\r\n        }\r\n    },\r\n    created(){\r\n        \r\n        (async ()=>{\r\n            // 购物车数据初始化\r\n            await this.cartInit();\r\n            this.kw=this.$route.params.kw || \" \";\r\n            this.cartList=this.getCartList;\r\n            console.log(this.getCount);\r\n        })();\r\n    },\r\n    watch:{\r\n        $route(){\r\n           this.kw=this.$route.params.kw; \r\n        },\r\n    },\r\n    computed:{\r\n        ...mapGetters([\"getIsLogin\",\"getuserInfo\",\"getCartList\",\"getCount\"]),\r\n        total(){\r\n            return this.cartList.reduce((prev,value)=>{\r\n                prev+=value.price*value.count;\r\n                return prev;\r\n            },0);\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["MyHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyHeader.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <header>\r\n            <div class=\"center\">\r\n                <router-link to=\"/\" class=\"block\" id=\"logo_icon\"></router-link>\r\n                <div id=\"classify\">\r\n                        <a href=\"javascript:;\">礼物分类\r\n                            <i href=\"javascript:;\" id=\"classify_icon\" class=\"block\"></i>\r\n                        </a>\r\n                        <!-- 礼物分类下拉菜单 -->\r\n                        <ul class=\"classify_pop\">\r\n                            <li>\r\n                                <a href=\"javascrit:;\">少女心饰</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"javascrit:;\">萌萌心物</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"javascrit:;\">为爱停留</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"javascrit:;\">潮流时尚</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"javascrit:;\">科技达人</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"javascrit:;\">幸福烙印</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"javascrit:;\">爱情保鲜</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href=\"javascrit:;\">&nbsp;</a>\r\n                            </li>\r\n                        </ul>\r\n                </div>\r\n                <ul class=\"pro_nav\">\r\n                    <li>\r\n                        <a href=\"javascript:;\">送礼导航</a>\r\n                        <div class=\"nav_menu\">\r\n                            <div class=\"menu_center\">\r\n                                <dl>\r\n                                    <dt>送给谁：</dt>\r\n                                    <dd>\r\n                                        <a href=\"javascrpt:;\">不限</a>\r\n                                        <a href=\"javascrpt:;\">公主女票</a>\r\n                                        <a href=\"javascrpt:;\">欧巴男票</a>\r\n                                        <a href=\"javascrpt:;\">潮爸辣妈</a>\r\n                                        <a href=\"javascrpt:;\">熊孩子</a>\r\n                                        <a href=\"javascrpt:;\">生意伙伴</a>\r\n                                        <a href=\"javascrpt:;\">致谢恩师</a>\r\n                                    </dd>\r\n                                </dl>\r\n                                <dl>\r\n                                    <dt>为啥送：</dt>\r\n                                    <dd>\r\n                                        <a href=\"javascrpt:;\">不限</a>\r\n                                        <a href=\"javascrpt:;\">公主女票</a>\r\n                                        <a href=\"javascrpt:;\">欧巴男票</a>\r\n                                        <a href=\"javascrpt:;\">潮爸辣妈</a>\r\n                                        <a href=\"javascrpt:;\">熊孩子</a>\r\n                                        <a href=\"javascrpt:;\">生意伙伴</a>\r\n                                        <a href=\"javascrpt:;\">致谢恩师</a>\r\n                                    </dd>\r\n                                </dl>\r\n                                <div>\r\n                                    <a href=\"javascript:;\">搜索</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"javascript:;\">创意礼物</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"javascript:;\">新品上架</a>\r\n                    </li>\r\n                    <li>\r\n                        <a href=\"javascript:;\">父亲节礼物</a>\r\n                    </li>\r\n                </ul>\r\n                <div class=\"search\">\r\n                    <input type=\"text\" v-model=\"kw\" @keydown.13=\"search\">\r\n                    <a @click=\"search\" href=\"javascript:;\" id=\"search_icon\" class=\"block\"></a>\r\n                </div>\r\n                <router-link to=\"/Login\" class=\"block user\" >\r\n                    <i id=\"user_icon\" class=\"block\"></i>\r\n                    <div class=\"box user_box\">\r\n                        <i class=\"triangle\"></i>\r\n                        <ul>\r\n                            <li v-show=\"!getIsLogin\">\r\n                                <router-link to=\"/Login\" class=\"changeRed\">登录</router-link>/\r\n                                <router-link to=\"/Register\" class=\"changeRed\">注册</router-link>\r\n                            </li>\r\n                            <li v-show=\"getIsLogin\" v-text=\"getuserInfo.unum\"></li>\r\n                            <li><router-link to=\"\" class=\"changeRed\">浏览历史</router-link></li>\r\n                            <li><router-link to=\"\" class=\"changeRed\">我的订单</router-link></li>\r\n                            <li><router-link to=\"\" class=\"changeRed\">我的收藏</router-link></li>\r\n                            <li v-show=\"getIsLogin\" @click=\"logout\"><router-link to=\"\" class=\"changeRed\">退出登录</router-link></li>\r\n                        </ul>\r\n                    </div>\r\n                </router-link>\r\n                <router-link to=\"/Cart\" class=\"car block\">\r\n                    <i id=\"car_icon\" class=\"block\"></i>\r\n                    <span class=\"cart_count\" v-text=\"getCount\"></span>\r\n                    <div  class=\"box cart_box\">\r\n                        <i class=\"triangle cart_tri\"></i>\r\n                        <p v-show=\"getCount==0\" class=\"cart_empty\">购物车中还没有商品，赶紧选购吧！</p>\r\n                        <div v-show=\"getCount>0\">\r\n                            <ul>\r\n                                <li v-for=\"(item,index) of cartList\" :key=\"index\">\r\n                                    <div class=\"font12\">\r\n                                        <router-link to=\"\">  \r\n                                            <img :src=\"imgUrl+item.pic\" alt=\"\">\r\n                                        </router-link>\r\n                                        <div>\r\n                                            <router-link :to=\"`/Details/${item.pid}`\"  class=\"font12 changeRed\" v-text=\"item.title\"></router-link><br>   \r\n                                            <span v-show=\"item.color\">礼物颜色：{{item.color}}</span><br>\r\n                                            <span>个性定制：{{item.spec}}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <p>\r\n                                    <span>X{{item.count}}</span> <br>\r\n                                    <span>¥{{item.price | priceFilter}}</span> <br>\r\n                                    <a href=\"javascript:;\"  class=\"font12 changeRed\" @click.prevent=\"delProduct(index)\">删除</a>\r\n                                    </p>\r\n\r\n                                </li>\r\n                            </ul>\r\n                            <div class=\"banlance\">\r\n                                <span class=\"total_left\">\r\n                                    共计{{cartList.length}}件商品\r\n                                    <br>\r\n                                    <span>\r\n                                        <b>合计：</b>\r\n                                        <span class=\"c-d93732\">¥{{total | priceFilter}}</span>\r\n                                    </span>\r\n                                </span>\r\n                                <router-link to=\"/Cart\" >去购物车结算</router-link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </router-link>\r\n                \r\n            </div>\r\n        </header>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters,mapActions} from 'vuex'\r\nexport default {\r\n    data(){\r\n        return {\r\n           kw:\" \",\r\n           cartList:[],\r\n        //    cartCount:0,\r\n           imgUrl:\"http://127.0.0.1:5050/\"\r\n        }\r\n    },\r\n    methods:{\r\n        ...mapActions([\"userLogout\",\"cartInit\",\"del\"]),\r\n        search(){\r\n            console.log(typeof this.kw);\r\n            this.$router.push(\"/Products/\"+this.kw);\r\n            // this.$emit(\"kwHandle\",this.kw);\r\n        },\r\n        logout(){\r\n            this.userLogout();\r\n            console.log(this.getIsLogin);\r\n        },\r\n        // 删除商品\r\n        delProduct(i){\r\n            console.log(\"删除商品\"+i);\r\n            this.del({cid:this.cartList[i].cid,i});\r\n        }\r\n    },\r\n    created(){\r\n        \r\n        (async ()=>{\r\n            // 购物车数据初始化\r\n            await this.cartInit();\r\n            this.kw=this.$route.params.kw || \" \";\r\n            this.cartList=this.getCartList;\r\n            console.log(this.getCount);\r\n        })();\r\n    },\r\n    watch:{\r\n        $route(){\r\n           this.kw=this.$route.params.kw; \r\n        },\r\n    },\r\n    computed:{\r\n        ...mapGetters([\"getIsLogin\",\"getuserInfo\",\"getCartList\",\"getCount\"]),\r\n        total(){\r\n            return this.cartList.reduce((prev,value)=>{\r\n                prev+=value.price*value.count;\r\n                return prev;\r\n            },0);\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    @import url(../assets/css/header.css);\r\n</style>\r\n\r\n"]}]}