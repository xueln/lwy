{"remainingRequest":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\components\\cart\\CartBtn.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\src\\components\\cart\\CartBtn.vue","mtime":1591450563512},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1591153664766},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591153665092},{"path":"D:\\WEB\\lx\\vue\\project\\lwy\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1591153673467}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {mapActions} from 'vuex';\r\nexport default {\r\n    data(){\r\n        return{\r\n            pcount:this.count,\r\n            mycount:this.count\r\n        }\r\n    },\r\n    created(){\r\n        // this.pcount=this.count;\r\n    },\r\n    methods:{\r\n         ...mapActions([\"changeCart\",\"del\"]),\r\n         countChange(e,val){\r\n            this.mycount+=val;\r\n            console.log(this.pcount);\r\n        },\r\n        \r\n    },\r\n    watch:{\r\n        mycount(){\r\n            var i=parseInt(this.i);\r\n            if(this.mycount<=0){\r\n                // 应该执行删除操作\r\n                console.log(\"应该执行删除操作\");\r\n                this.del({cid:this.list[i].cid,i});\r\n            }else{\r\n               if(this.mycount>=40){\r\n                    this.mycount=40;\r\n                } \r\n            // 将修改更新到vuex中\r\n            this.changeCart({cid:this.list[i].cid,count:this.mycount,i});\r\n            }\r\n        },\r\n        count(){\r\n            this.pcount=this.count;\r\n        },\r\n        pcount(newv,oldv){\r\n            if(isNaN(parseInt(newv))){\r\n                alert(\"请输入数字\");\r\n                 this.pcount=oldv;\r\n            }\r\n            this.mycount=this.pcount;\r\n        }\r\n\r\n    },\r\n    props:[\"list\",\"i\",\"count\"]\r\n}\r\n",{"version":3,"sources":["CartBtn.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"CartBtn.vue","sourceRoot":"src/components/cart","sourcesContent":["<template>\r\n    <div>\r\n        <a href=\"javascript:;\" @click.prevent=\"countChange($event,-1)\"></a>\r\n        <input type=\"text\" v-model.lazy=\"pcount\">\r\n        <a href=\"javascript:;\" @click.prevent=\"countChange($event,1)\"></a>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nexport default {\r\n    data(){\r\n        return{\r\n            pcount:this.count,\r\n            mycount:this.count\r\n        }\r\n    },\r\n    created(){\r\n        // this.pcount=this.count;\r\n    },\r\n    methods:{\r\n         ...mapActions([\"changeCart\",\"del\"]),\r\n         countChange(e,val){\r\n            this.mycount+=val;\r\n            console.log(this.pcount);\r\n        },\r\n        \r\n    },\r\n    watch:{\r\n        mycount(){\r\n            var i=parseInt(this.i);\r\n            if(this.mycount<=0){\r\n                // 应该执行删除操作\r\n                console.log(\"应该执行删除操作\");\r\n                this.del({cid:this.list[i].cid,i});\r\n            }else{\r\n               if(this.mycount>=40){\r\n                    this.mycount=40;\r\n                } \r\n            // 将修改更新到vuex中\r\n            this.changeCart({cid:this.list[i].cid,count:this.mycount,i});\r\n            }\r\n        },\r\n        count(){\r\n            this.pcount=this.count;\r\n        },\r\n        pcount(newv,oldv){\r\n            if(isNaN(parseInt(newv))){\r\n                alert(\"请输入数字\");\r\n                 this.pcount=oldv;\r\n            }\r\n            this.mycount=this.pcount;\r\n        }\r\n\r\n    },\r\n    props:[\"list\",\"i\",\"count\"]\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}