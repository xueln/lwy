{"remainingRequest":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web1905\\项目\\lwy_new\\lwy_vue\\src\\views\\Details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\src\\views\\Details.vue","mtime":1568809940718},{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\Web1905\\\\\\u9879\\u76EE\\\\lwy_new\\\\lwy_vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      enter: false,\n      bgImg: {\n        bgImgClass: false\n      },\n      product: {\n        price: 0\n      },\n      pics: [{\n        md: 'img/detail/md1.jpg',\n        sm: 'img/detail/sm1.jpg',\n        lg: 'img/detail/lg1.jpg'\n      }],\n      specs: [{\n        optionClass: {\n          optionSelected: true\n        }\n      }, {\n        optionClass: {\n          optionSelected: false\n        }\n      }],\n      imgUrl: \"http://127.0.0.1:5050/\",\n      // 控制每张小图片鼠标滑过的样式\n      imgClasses: [{\n        borderRed: true\n      }],\n      // 判断是选中的哪一张小图片\n      i: 0\n    };\n  },\n  props: {\n    pid: {\n      default: \"\"\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    console.log(this.pid);\n\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var res, obj, i;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.axios.get('detail/getPro', {\n                params: {\n                  pid: _this.pid\n                }\n              });\n\n            case 2:\n              res = _context.sent;\n              // console.log(res.data);\n              obj = res.data;\n              _this.product = obj.product;\n              _this.pics = obj.pics;\n\n              for (i = 0; i < _this.pics.length; i++) {\n                _this.imgClasses.push({\n                  borderRed: false\n                });\n              }\n\n              _this.specs = obj.specs; // 给每一个规格对象里都添加控制样式的变量\n\n              for (i = 0; i < _this.specs.length; i++) {\n                if (i == 0) {\n                  _this.specs[i].optionClass = {\n                    optionSelected: true\n                  };\n                } else {\n                  _this.specs[i].optionClass = {\n                    optionSelected: false\n                  };\n                }\n              }\n\n              console.log(_this.specs); // console.log(this.product,this.pics,this.specs,this.imgClasses);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    // 规格的选择\n    selectSpec: function selectSpec(e) {\n      if (e.target.nodeName == \"A\") {\n        var specI = e.target.dataset.specI;\n        console.log(specI); // this.specs[spec_i].optionClass.optionSelected=true;\n\n        this.specs[specI].optionClass.optionSelected = true;\n\n        for (var s = 0; s < this.specs.length; s++) {\n          if (s == specI) {\n            continue;\n          }\n\n          this.specs[s].optionClass.optionSelected = false;\n        }\n      }\n    },\n    // 鼠标移到哪个小图片 哪个小图片就加上红色边框 并且切换对应的大图片\n    changeImg: function changeImg(i) {\n      // 其他小图片去掉红色边框\n      for (var j = 0; j < this.imgClasses.length; j++) {\n        if (this.imgClasses[j].borderRed == true) {\n          this.imgClasses[j].borderRed = false;\n        }\n      } // 当前的小图片加边框\n\n\n      this.imgClasses[i].borderRed = true; // 切换大图片\n\n      this.i = i;\n    },\n    bgImgHandle: function bgImgHandle() {\n      var _this2 = this;\n\n      _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this2.axios.get('user/isLogin');\n\n              case 2:\n                res = _context2.sent;\n                console.log(res.data);\n\n                if (res.data.code == -1) {\n                  alert(\"请先登录！登录后才能收藏\");\n                } else {\n                  _this2.bgImg.bgImgClass = !_this2.bgImg.bgImgClass;\n                }\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};",{"version":3,"sources":["Details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <my-header></my-header>\r\n        <div id=\"page_detail\">\r\n            <bread breadName=\"BeeFo小唱机\"></bread>\r\n            <div class=\"goods_info\">\r\n                <div class=\"center w1200 d-flex\">\r\n                    <div class=\"images d-flex\">\r\n                        <!-- 小图 -->\r\n                        <ul class=\"d-flex\">\r\n                            <li v-for=\"(item,index) of pics\" :key=\"index\" >\r\n                                <img :src=\"imgUrl+item.sm\" alt=\"\"  :class=\"imgClasses[index]\" @mouseover=\"changeImg(index)\">\r\n                            </li>\r\n                        </ul>\r\n                        <!-- 中图 -->\r\n                        <div class=\"mdImg relative\">\r\n                            <img :src=\"imgUrl+pics[i].md\" alt=\"\">\r\n                            <div v-show=\"enter\" class=\"smMask\"></div>\r\n                            <div class=\"Mask\" @mouseover=\"enter=!enter\" @mouseout=\"enter=!enter\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"goods_attr\">\r\n                        <h2 v-text=\"product.title\"></h2>\r\n                        <h3 class=\"subtitle\" v-text=\"product.subtitle\"></h3>\r\n                        <div class=\"good_price d-flex\">\r\n                            <span>{{product.price.toFixed(2)}}元</span>\r\n                            <span class=\"color666\">有现货</span>\r\n                        </div>\r\n                        <div class=\"specs\">\r\n                            <div @click=\"selectSpec\">\r\n                                <span class=\"block color666\">选择规格:</span>\r\n                                <router-link :to=\"/Details/+item.pid\" v-for=\"(item,specI) of specs\" :key=\"specI\" class=\"block option\" :class=\"specs[specI].optionClass\" v-text=\"item.spec\" :data-specI=\"specI\"></router-link>\r\n                            </div>\r\n                            <div class=\"colors\">\r\n                                <p>\r\n                                  <span class=\"block color666\">礼物颜色:</span>  \r\n                                </p>\r\n                                <router-link to=\"\" v-for=\"(item,index) of pics\" :key=\"index\" class=\"block option\" v-text=\"item.color\"></router-link>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"buy\">\r\n                            <router-link to=\"\" >立即购买</router-link>\r\n                            <a href=\"javascript:;\" class=\"sc\" @click=\"bgImgHandle\">\r\n                                <i :class=\"bgImg\"></i>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <tool-bars></tool-bars>   \r\n        </div>\r\n        <my-footer></my-footer>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            enter:false,\r\n            bgImg:{\r\n               bgImgClass:false \r\n            },\r\n            product:{price:0},\r\n            pics:[{md:'img/detail/md1.jpg',sm:'img/detail/sm1.jpg',lg:'img/detail/lg1.jpg'}],\r\n            specs:[{optionClass:{optionSelected:true}},{optionClass:{optionSelected:false}}] ,\r\n            imgUrl:\"http://127.0.0.1:5050/\",\r\n            // 控制每张小图片鼠标滑过的样式\r\n            imgClasses:[{borderRed:true}],\r\n            // 判断是选中的哪一张小图片\r\n            i:0,\r\n        }\r\n    },\r\n    props:{pid:{default:\"\"}},\r\n    created(){\r\n        console.log(this.pid);\r\n        (async ()=>{\r\n            var res=await this.axios.get('detail/getPro',{\r\n                params:{\r\n                    pid:this.pid\r\n                }\r\n            });\r\n            // console.log(res.data);\r\n            var obj=res.data;\r\n            this.product=obj.product;\r\n            this.pics=obj.pics;\r\n            for(var i=0;i<this.pics.length;i++){\r\n                this.imgClasses.push({borderRed:false});\r\n            }\r\n            this.specs=obj.specs;\r\n            // 给每一个规格对象里都添加控制样式的变量\r\n            for (var i=0;i<this.specs.length;i++) {\r\n                if(i==0){\r\n                   this.specs[i].optionClass={optionSelected:true}; \r\n                }else{\r\n                    this.specs[i].optionClass={optionSelected:false};\r\n                }   \r\n            }\r\n            console.log(this.specs);\r\n            // console.log(this.product,this.pics,this.specs,this.imgClasses);\r\n        })();\r\n    },\r\n    methods:{\r\n        // 规格的选择\r\n        selectSpec(e){\r\n            if(e.target.nodeName==\"A\"){\r\n                var specI=e.target.dataset.specI;\r\n                console.log(specI);\r\n                // this.specs[spec_i].optionClass.optionSelected=true;\r\n                this.specs[specI].optionClass.optionSelected=true;\r\n                for (var s=0;s<this.specs.length;s++) {\r\n                    if(s==specI){\r\n                        continue;\r\n                    }\r\n                    this.specs[s].optionClass.optionSelected=false;\r\n                   \r\n                }\r\n               \r\n            }\r\n            \r\n        },\r\n        // 鼠标移到哪个小图片 哪个小图片就加上红色边框 并且切换对应的大图片\r\n        changeImg(i){\r\n            // 其他小图片去掉红色边框\r\n            for(var j=0;j<this.imgClasses.length;j++){\r\n                if(this.imgClasses[j].borderRed==true){\r\n                    this.imgClasses[j].borderRed=false;\r\n                }\r\n            }\r\n            // 当前的小图片加边框\r\n            this.imgClasses[i].borderRed=true;\r\n            // 切换大图片\r\n            this.i=i; \r\n\r\n        },\r\n        bgImgHandle(){\r\n            (async ()=>{\r\n                var res=await this.axios.get('user/isLogin');\r\n                console.log(res.data);\r\n                if(res.data.code==-1){\r\n                    alert(\"请先登录！登录后才能收藏\");\r\n                }else{\r\n                    this.bgImg.bgImgClass=!this.bgImg.bgImgClass; \r\n                }\r\n            })();\r\n           \r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n    @import url(../assets/css/details.css);\r\n</style>\r\n"],"sourceRoot":"src/views"}]}