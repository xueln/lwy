{"remainingRequest":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Web1905\\项目\\lwy_new\\lwy_vue\\src\\views\\Details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\src\\views\\Details.vue","mtime":1568809940718},{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Web1905\\项目\\lwy_new\\lwy_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            enter:false,\r\n            bgImg:{\r\n               bgImgClass:false \r\n            },\r\n            product:{price:0},\r\n            pics:[{md:'img/detail/md1.jpg',sm:'img/detail/sm1.jpg',lg:'img/detail/lg1.jpg'}],\r\n            specs:[{optionClass:{optionSelected:true}},{optionClass:{optionSelected:false}}] ,\r\n            imgUrl:\"http://127.0.0.1:5050/\",\r\n            // 控制每张小图片鼠标滑过的样式\r\n            imgClasses:[{borderRed:true}],\r\n            // 判断是选中的哪一张小图片\r\n            i:0,\r\n        }\r\n    },\r\n    props:{pid:{default:\"\"}},\r\n    created(){\r\n        console.log(this.pid);\r\n        (async ()=>{\r\n            var res=await this.axios.get('detail/getPro',{\r\n                params:{\r\n                    pid:this.pid\r\n                }\r\n            });\r\n            // console.log(res.data);\r\n            var obj=res.data;\r\n            this.product=obj.product;\r\n            this.pics=obj.pics;\r\n            for(var i=0;i<this.pics.length;i++){\r\n                this.imgClasses.push({borderRed:false});\r\n            }\r\n            this.specs=obj.specs;\r\n            // 给每一个规格对象里都添加控制样式的变量\r\n            for (var i=0;i<this.specs.length;i++) {\r\n                if(i==0){\r\n                   this.specs[i].optionClass={optionSelected:true}; \r\n                }else{\r\n                    this.specs[i].optionClass={optionSelected:false};\r\n                }   \r\n            }\r\n            console.log(this.specs);\r\n            // console.log(this.product,this.pics,this.specs,this.imgClasses);\r\n        })();\r\n    },\r\n    methods:{\r\n        // 规格的选择\r\n        selectSpec(e){\r\n            if(e.target.nodeName==\"A\"){\r\n                var specI=e.target.dataset.specI;\r\n                console.log(specI);\r\n                // this.specs[spec_i].optionClass.optionSelected=true;\r\n                this.specs[specI].optionClass.optionSelected=true;\r\n                for (var s=0;s<this.specs.length;s++) {\r\n                    if(s==specI){\r\n                        continue;\r\n                    }\r\n                    this.specs[s].optionClass.optionSelected=false;\r\n                   \r\n                }\r\n               \r\n            }\r\n            \r\n        },\r\n        // 鼠标移到哪个小图片 哪个小图片就加上红色边框 并且切换对应的大图片\r\n        changeImg(i){\r\n            // 其他小图片去掉红色边框\r\n            for(var j=0;j<this.imgClasses.length;j++){\r\n                if(this.imgClasses[j].borderRed==true){\r\n                    this.imgClasses[j].borderRed=false;\r\n                }\r\n            }\r\n            // 当前的小图片加边框\r\n            this.imgClasses[i].borderRed=true;\r\n            // 切换大图片\r\n            this.i=i; \r\n\r\n        },\r\n        bgImgHandle(){\r\n            (async ()=>{\r\n                var res=await this.axios.get('user/isLogin');\r\n                console.log(res.data);\r\n                if(res.data.code==-1){\r\n                    alert(\"请先登录！登录后才能收藏\");\r\n                }else{\r\n                    this.bgImg.bgImgClass=!this.bgImg.bgImgClass; \r\n                }\r\n            })();\r\n           \r\n        }\r\n    }\r\n\r\n}\r\n",{"version":3,"sources":["Details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"Details.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <my-header></my-header>\r\n        <div id=\"page_detail\">\r\n            <bread breadName=\"BeeFo小唱机\"></bread>\r\n            <div class=\"goods_info\">\r\n                <div class=\"center w1200 d-flex\">\r\n                    <div class=\"images d-flex\">\r\n                        <!-- 小图 -->\r\n                        <ul class=\"d-flex\">\r\n                            <li v-for=\"(item,index) of pics\" :key=\"index\" >\r\n                                <img :src=\"imgUrl+item.sm\" alt=\"\"  :class=\"imgClasses[index]\" @mouseover=\"changeImg(index)\">\r\n                            </li>\r\n                        </ul>\r\n                        <!-- 中图 -->\r\n                        <div class=\"mdImg relative\">\r\n                            <img :src=\"imgUrl+pics[i].md\" alt=\"\">\r\n                            <div v-show=\"enter\" class=\"smMask\"></div>\r\n                            <div class=\"Mask\" @mouseover=\"enter=!enter\" @mouseout=\"enter=!enter\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"goods_attr\">\r\n                        <h2 v-text=\"product.title\"></h2>\r\n                        <h3 class=\"subtitle\" v-text=\"product.subtitle\"></h3>\r\n                        <div class=\"good_price d-flex\">\r\n                            <span>{{product.price.toFixed(2)}}元</span>\r\n                            <span class=\"color666\">有现货</span>\r\n                        </div>\r\n                        <div class=\"specs\">\r\n                            <div @click=\"selectSpec\">\r\n                                <span class=\"block color666\">选择规格:</span>\r\n                                <router-link :to=\"/Details/+item.pid\" v-for=\"(item,specI) of specs\" :key=\"specI\" class=\"block option\" :class=\"specs[specI].optionClass\" v-text=\"item.spec\" :data-specI=\"specI\"></router-link>\r\n                            </div>\r\n                            <div class=\"colors\">\r\n                                <p>\r\n                                  <span class=\"block color666\">礼物颜色:</span>  \r\n                                </p>\r\n                                <router-link to=\"\" v-for=\"(item,index) of pics\" :key=\"index\" class=\"block option\" v-text=\"item.color\"></router-link>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"buy\">\r\n                            <router-link to=\"\" >立即购买</router-link>\r\n                            <a href=\"javascript:;\" class=\"sc\" @click=\"bgImgHandle\">\r\n                                <i :class=\"bgImg\"></i>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <tool-bars></tool-bars>   \r\n        </div>\r\n        <my-footer></my-footer>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            enter:false,\r\n            bgImg:{\r\n               bgImgClass:false \r\n            },\r\n            product:{price:0},\r\n            pics:[{md:'img/detail/md1.jpg',sm:'img/detail/sm1.jpg',lg:'img/detail/lg1.jpg'}],\r\n            specs:[{optionClass:{optionSelected:true}},{optionClass:{optionSelected:false}}] ,\r\n            imgUrl:\"http://127.0.0.1:5050/\",\r\n            // 控制每张小图片鼠标滑过的样式\r\n            imgClasses:[{borderRed:true}],\r\n            // 判断是选中的哪一张小图片\r\n            i:0,\r\n        }\r\n    },\r\n    props:{pid:{default:\"\"}},\r\n    created(){\r\n        console.log(this.pid);\r\n        (async ()=>{\r\n            var res=await this.axios.get('detail/getPro',{\r\n                params:{\r\n                    pid:this.pid\r\n                }\r\n            });\r\n            // console.log(res.data);\r\n            var obj=res.data;\r\n            this.product=obj.product;\r\n            this.pics=obj.pics;\r\n            for(var i=0;i<this.pics.length;i++){\r\n                this.imgClasses.push({borderRed:false});\r\n            }\r\n            this.specs=obj.specs;\r\n            // 给每一个规格对象里都添加控制样式的变量\r\n            for (var i=0;i<this.specs.length;i++) {\r\n                if(i==0){\r\n                   this.specs[i].optionClass={optionSelected:true}; \r\n                }else{\r\n                    this.specs[i].optionClass={optionSelected:false};\r\n                }   \r\n            }\r\n            console.log(this.specs);\r\n            // console.log(this.product,this.pics,this.specs,this.imgClasses);\r\n        })();\r\n    },\r\n    methods:{\r\n        // 规格的选择\r\n        selectSpec(e){\r\n            if(e.target.nodeName==\"A\"){\r\n                var specI=e.target.dataset.specI;\r\n                console.log(specI);\r\n                // this.specs[spec_i].optionClass.optionSelected=true;\r\n                this.specs[specI].optionClass.optionSelected=true;\r\n                for (var s=0;s<this.specs.length;s++) {\r\n                    if(s==specI){\r\n                        continue;\r\n                    }\r\n                    this.specs[s].optionClass.optionSelected=false;\r\n                   \r\n                }\r\n               \r\n            }\r\n            \r\n        },\r\n        // 鼠标移到哪个小图片 哪个小图片就加上红色边框 并且切换对应的大图片\r\n        changeImg(i){\r\n            // 其他小图片去掉红色边框\r\n            for(var j=0;j<this.imgClasses.length;j++){\r\n                if(this.imgClasses[j].borderRed==true){\r\n                    this.imgClasses[j].borderRed=false;\r\n                }\r\n            }\r\n            // 当前的小图片加边框\r\n            this.imgClasses[i].borderRed=true;\r\n            // 切换大图片\r\n            this.i=i; \r\n\r\n        },\r\n        bgImgHandle(){\r\n            (async ()=>{\r\n                var res=await this.axios.get('user/isLogin');\r\n                console.log(res.data);\r\n                if(res.data.code==-1){\r\n                    alert(\"请先登录！登录后才能收藏\");\r\n                }else{\r\n                    this.bgImg.bgImgClass=!this.bgImg.bgImgClass; \r\n                }\r\n            })();\r\n           \r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n    @import url(../assets/css/details.css);\r\n</style>\r\n"]}]}